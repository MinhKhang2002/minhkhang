
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- Thêm các thư viện và script cần thiết -->
    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
</head>
</head>
<body>
    <!-- Nút để mở widget upload của Cloudinary -->
    <button id="upload_widget" class="cloudinary-button">Upload files</button>

    <!-- Hiển thị thông tin tệp tin đã tải lên -->

    <div id="result"></div>

    <script type="text/javascript">
        const cloudName = 'dd1grolgr';
        const uploadPreset = 'ml_default'; // Có thể thay đổi theo cấu hình của bạn

        // Khởi tạo widget
        var myWidget = cloudinary.createUploadWidget({
                cloudName: cloudName,
                uploadPreset: uploadPreset
            },
            (error, result) => {
                if (!error && result && result.event === "success") {
                    // Xử lý khi tệp tin được tải lên thành công
                    console.log('Done uploading..: ', result);

                    // Hiển thị thông tin tệp tin đã tải lên (ở đây có thể gửi thông tin về server để xử lý)
                    document.getElementById("result").innerText = "Uploaded file: " + result.info.secure_url;
                }
            });

        // Mở widget upload khi click vào nút
        document.getElementById("upload_widget").addEventListener("click", function(){
            myWidget.open();
        }, false);
    </script>
</body>
</html>